<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>agentic-lib</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 2em; background-color: #f9f9f9; color: #333; }
    header { padding-bottom: 1em; border-bottom: 2px solid #ccc; margin-bottom: 1em; }
    h1 { font-size: 2em; }
    section { margin-bottom: 1.5em; }
    ul { list-style: none; padding: 0; }
    li { margin: 0.5em 0; }
    .label { font-weight: bold; }
    footer { margin-top: 2em; font-size: 0.9em; color: #777; }
    a { color: #0366d6; text-decoration: none; }
    a:hover { text-decoration: underline; }
  </style>
</head>
<body>
  <header>
    <h1>agentic-lib</h1>
    <p><a href="https://github.com/xn-intenton-z2a/agentic-lib">repository</a> - <a href="https://xn-intenton-z2a.github.io/agentic-lib/latest.html">latest stats</a> - <a href="https://xn-intenton-z2a.github.io/agentic-lib/all.html">all stats</a></p>
  </header>
  <section>
    <h1 class="md-github"><a class="md-github__anchor" name="vitest" href="#vitest"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>VITEST</h1>
<h2 class="md-github"><a class="md-github__anchor" name="crawl-summary" href="#crawl-summary"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Crawl Summary</h2>
<p class="md-github">Vitest documentation details provide the exact installation commands, code examples for writing tests, complete configuration options (in vitest.config.ts and vite.config.ts), CLI commands and flags, environment settings (node, jsdom, happy-dom), dependency resolution options including external and inline handling, and workspaces support. The documentation includes full code samples, configuration parameter defaults, and detailed instructions to merge Vite and Vitest configurations.</p>
<h2 class="md-github"><a class="md-github__anchor" name="normalised-extract" href="#normalised-extract"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Normalised Extract</h2>
<h2 class="md-github"><a class="md-github__anchor" name="table-of-contents" href="#table-of-contents"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Table of Contents</h2>
<ol class="md-github">
<li class="md-github">Installation</li>
<li class="md-github">Writing Tests</li>
<li class="md-github">Configuration</li>
<li class="md-github">Command Line Interface</li>
<li class="md-github">Environment &amp; Integration</li>
<li class="md-github">Dependency Optimization &amp; Server Options</li>
<li class="md-github">Workspaces Support</li>
<li class="md-github">Troubleshooting &amp; Best Practices</li>
</ol>
<hr class="md-github">
<h3 class="md-github"><a class="md-github__anchor" name="1-installation" href="#1-installation"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. Installation</h3>
<ul class="md-github">
<li class="md-github">Install using:
<ul class="md-github">
<li class="md-github">npm: <code class="md-github">npm install -D vitest</code></li>
<li class="md-github">yarn: <code class="md-github">yarn add -D vitest</code></li>
<li class="md-github">pnpm: <code class="md-github">pnpm add -D vitest</code></li>
<li class="md-github">bun: <code class="md-github">bun add -D vitest</code></li>
</ul>
</li>
</ul>
<h3 class="md-github"><a class="md-github__anchor" name="2-writing-tests" href="#2-writing-tests"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. Writing Tests</h3>
<ul class="md-github">
<li class="md-github">Create a sum.js:</li>
</ul>
<pre class="md-github"><code class="md-github language-js">export function sum(a, b) {
  return a + b;
}
</code></pre>
<ul class="md-github">
<li class="md-github">Create a test file, sum.test.js:</li>
</ul>
<pre class="md-github"><code class="md-github language-js">import { expect, test } from 'vitest';
import { sum } from './sum.js';

test('adds 1 + 2 to equal 3', () =&gt; {
  expect(sum(1, 2)).toBe(3);
});
</code></pre>
<ul class="md-github">
<li class="md-github">Add test script in package.json:</li>
</ul>
<pre class="md-github"><code class="md-github language-json">{
  &quot;scripts&quot;: {
    &quot;test&quot;: &quot;vitest&quot;
  }
}
</code></pre>
<h3 class="md-github"><a class="md-github__anchor" name="3-configuration" href="#3-configuration"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3. Configuration</h3>
<ul class="md-github">
<li class="md-github">Create a <code class="md-github">vitest.config.ts</code> file:</li>
</ul>
<pre class="md-github"><code class="md-github language-ts">import { defineConfig } from 'vitest/config';

export default defineConfig({
  test: {
    globals: true,
    environment: 'node',
    include: ['**/*.{test,spec}.?(c|m)[jt]s?(x)'],
    exclude: ['**/node_modules/**', '**/dist/**', '**/cypress/**']
  },
});
</code></pre>
<ul class="md-github">
<li class="md-github">Use triple-slash directives in your config for proper type definitions:</li>
</ul>
<pre class="md-github"><code class="md-github language-ts">/// &lt;reference types=&quot;vitest/config&quot; /&gt;
import { defineConfig } from 'vite';

export default defineConfig({
  test: {
    // ... options
  },
});
</code></pre>
<ul class="md-github">
<li class="md-github">Merge Vite and Vitest configurations:</li>
</ul>
<pre class="md-github"><code class="md-github language-ts">import { defineConfig, mergeConfig } from 'vitest/config';
import viteConfig from './vite.config.mjs';

export default mergeConfig(viteConfig, defineConfig({
  test: {
    // ... test specific options
  },
}));
</code></pre>
<h3 class="md-github"><a class="md-github__anchor" name="4-command-line-interface" href="#4-command-line-interface"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4. Command Line Interface</h3>
<ul class="md-github">
<li class="md-github">Run tests: <code class="md-github">vitest</code></li>
<li class="md-github">Run tests once: <code class="md-github">vitest run</code></li>
<li class="md-github">Run coverage: <code class="md-github">vitest run --coverage</code></li>
<li class="md-github">CLI options include <code class="md-github">--config</code>, <code class="md-github">--port</code>, <code class="md-github">--https</code>, <code class="md-github">--watch</code>, and <code class="md-github">--update</code>.</li>
</ul>
<h3 class="md-github"><a class="md-github__anchor" name="5-environment--integration" href="#5-environment--integration"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>5. Environment &amp; Integration</h3>
<ul class="md-github">
<li class="md-github">Set test environment via <code class="md-github">environment</code> (e.g. 'node', 'jsdom', 'happy-dom').</li>
<li class="md-github">Use docblock comments for file-specific environments:</li>
</ul>
<pre class="md-github"><code class="md-github language-js">/**
 * @vitest-environment jsdom
 */
</code></pre>
<h3 class="md-github"><a class="md-github__anchor" name="6-dependency-optimization--server-options" href="#6-dependency-optimization--server-options"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>6. Dependency Optimization &amp; Server Options</h3>
<ul class="md-github">
<li class="md-github">Configuration parameters:
<ul class="md-github">
<li class="md-github"><code class="md-github">server.deps.external</code>: Default: [//node_modules//]</li>
<li class="md-github"><code class="md-github">server.deps.inline</code>: Can be an array or true (for all).</li>
<li class="md-github"><code class="md-github">server.deps.fallbackCJS</code>: Default: false</li>
<li class="md-github">Options for sourcemap: <code class="md-github">server.sourcemap</code> (default: 'inline')</li>
</ul>
</li>
</ul>
<h3 class="md-github"><a class="md-github__anchor" name="7-workspaces-support" href="#7-workspaces-support"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>7. Workspaces Support</h3>
<ul class="md-github">
<li class="md-github">Define multiple workspace configurations in <code class="md-github">vitest.workspace.ts</code>:</li>
</ul>
<pre class="md-github"><code class="md-github language-ts">import { defineWorkspace } from 'vitest/config';

export default defineWorkspace([
  'packages/*',
  'tests/*/vitest.config.{e2e,unit}.ts',
  {
    test: {
      name: 'happy-dom',
      root: './shared_tests',
      environment: 'happy-dom',
      setupFiles: ['./setup.happy-dom.ts'],
    },
  },
  {
    test: {
      name: 'node',
      root: './shared_tests',
      environment: 'node',
      setupFiles: ['./setup.node.ts'],
    },
  },
]);
</code></pre>
<h3 class="md-github"><a class="md-github__anchor" name="8-troubleshooting--best-practices" href="#8-troubleshooting--best-practices"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>8. Troubleshooting &amp; Best Practices</h3>
<ul class="md-github">
<li class="md-github">For Bun users, ensure to use <code class="md-github">bun run test</code>.</li>
<li class="md-github">Enable <code class="md-github">deps.interopDefault</code> if you encounter issues with CommonJS modules.</li>
<li class="md-github">Use merging configuration techniques when using separate Vite and Vitest files.</li>
<li class="md-github">Run CLI commands with <code class="md-github">--update</code> to refresh snapshots and <code class="md-github">--watch</code> for continuous testing.</li>
</ul>
<h2 class="md-github"><a class="md-github__anchor" name="supplementary-details" href="#supplementary-details"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Supplementary Details</h2>
<h3 class="md-github"><a class="md-github__anchor" name="supplementary-technical-specifications" href="#supplementary-technical-specifications"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Supplementary Technical Specifications</h3>
<ol class="md-github">
<li class="md-github">
<p class="md-github"><strong class="md-github">Installation Requirements</strong></p>
<ul class="md-github">
<li class="md-github">Vite: &gt;= v5.0.0</li>
<li class="md-github">Node: &gt;= v18.0.0</li>
</ul>
</li>
<li class="md-github">
<p class="md-github"><strong class="md-github">Configuration Options</strong> (in vitest.config.*):</p>
<ul class="md-github">
<li class="md-github"><code class="md-github">test.include</code>: string[]; Default: ['**/*.{test,spec}.?(c|m)[jt]s?(x)']</li>
<li class="md-github"><code class="md-github">test.exclude</code>: string[]; Default: ['<strong class="md-github">/node_modules/</strong>', '<strong class="md-github">/dist/</strong>', '<strong class="md-github">/cypress/</strong>', '<strong class="md-github">/.{idea,git,cache,output,temp}/</strong>', '**/{karma,rollup,webpack,vite,vitest,jest,ava,babel,nyc,cypress,tsup,build,eslint,prettier}.config.*']</li>
<li class="md-github"><code class="md-github">test.globals</code>: boolean; Default: false</li>
<li class="md-github"><code class="md-github">test.environment</code>: string; Default: 'node'</li>
<li class="md-github"><code class="md-github">server.sourcemap</code>: 'inline' | boolean; Default: 'inline'</li>
<li class="md-github"><code class="md-github">server.deps</code>: Object containing <code class="md-github">external</code>, <code class="md-github">inline</code>, <code class="md-github">fallbackCJS</code>, <code class="md-github">cacheDir</code> etc.</li>
<li class="md-github"><code class="md-github">deps.optimizer</code>: Configuration for dependency bundling (includes options for ssr and web modes).</li>
</ul>
</li>
<li class="md-github">
<p class="md-github"><strong class="md-github">CLI Options</strong></p>
<ul class="md-github">
<li class="md-github"><code class="md-github">--config &lt;path&gt;</code>: to specify an alternative config file</li>
<li class="md-github"><code class="md-github">--watch</code>: enable watch mode</li>
<li class="md-github"><code class="md-github">--update</code>: update snapshots</li>
<li class="md-github"><code class="md-github">--coverage</code>: run tests with coverage reporting</li>
</ul>
</li>
<li class="md-github">
<p class="md-github"><strong class="md-github">Best Practices</strong></p>
<ul class="md-github">
<li class="md-github">Use the same configuration file for both Vite and Vitest when possible to avoid duplication.</li>
<li class="md-github">When using separate configurations, merge them via <code class="md-github">mergeConfig</code> to avoid conflicts.</li>
<li class="md-github">For type safety, always include triple slash type directives in configuration files.</li>
<li class="md-github">Use environment-specific configuration blocks by leveraging <code class="md-github">process.env.VITEST</code> and conditional definitions in <code class="md-github">defineConfig</code>.</li>
</ul>
</li>
<li class="md-github">
<p class="md-github"><strong class="md-github">Troubleshooting Procedures</strong></p>
<ul class="md-github">
<li class="md-github">If tests fail to run, verify that all required dependencies are installed and that Vitest is correctly linked in the project.</li>
<li class="md-github">For dependency errors with CJS modules, check the <code class="md-github">deps.interopDefault</code> setting.</li>
<li class="md-github">Run <code class="md-github">npx vitest --help</code> for a full list of CLI options and verify command syntax.</li>
<li class="md-github">If configuration conflicts arise between Vitest and Vite, try consolidating options in a single file.</li>
</ul>
</li>
</ol>
<h2 class="md-github"><a class="md-github__anchor" name="reference-details" href="#reference-details"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Reference Details</h2>
<h3 class="md-github"><a class="md-github__anchor" name="complete-api-specifications--implementation-patterns" href="#complete-api-specifications--implementation-patterns"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Complete API Specifications &amp; Implementation Patterns</h3>
<h4 class="md-github"><a class="md-github__anchor" name="1-sdk-method-signatures--examples" href="#1-sdk-method-signatures--examples"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. SDK Method Signatures &amp; Examples</h4>
<ul class="md-github">
<li class="md-github">
<p class="md-github"><strong class="md-github">defineConfig (from 'vitest/config')</strong></p>
<p class="md-github">Signature:</p>
<pre class="md-github"><code class="md-github language-ts">function defineConfig&lt;T = UserConfigExport&gt;(config: T | (() =&gt; T)): T;
</code></pre>
<p class="md-github"><strong class="md-github">Example:</strong></p>
<pre class="md-github"><code class="md-github language-ts">import { defineConfig } from 'vitest/config';

export default defineConfig({
  test: {
    globals: true,
    environment: 'node',
    include: ['**/*.{test,spec}.?(c|m)[jt]s?(x)'],
    exclude: ['**/node_modules/**'],
  },
});
</code></pre>
</li>
<li class="md-github">
<p class="md-github"><strong class="md-github">mergeConfig (from 'vitest/config')</strong></p>
<p class="md-github">Signature:</p>
<pre class="md-github"><code class="md-github language-ts">function mergeConfig&lt;T&gt;(baseConfig: T, overrideConfig: T): T;
</code></pre>
<p class="md-github"><strong class="md-github">Example:</strong></p>
<pre class="md-github"><code class="md-github language-ts">import { defineConfig, mergeConfig } from 'vitest/config';
import viteConfig from './vite.config.mjs';

export default mergeConfig(viteConfig, defineConfig({
  test: {
    exclude: ['packages/template/*'],
  },
}));
</code></pre>
</li>
</ul>
<h4 class="md-github"><a class="md-github__anchor" name="2-cli-commands--flags" href="#2-cli-commands--flags"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. CLI Commands &amp; Flags</h4>
<ul class="md-github">
<li class="md-github">
<p class="md-github"><strong class="md-github">Command Examples:</strong></p>
<p class="md-github">Running tests:</p>
<pre class="md-github"><code class="md-github language-bash">npx vitest
</code></pre>
<p class="md-github">Running tests once:</p>
<pre class="md-github"><code class="md-github language-bash">npx vitest run
</code></pre>
<p class="md-github">Running tests with coverage:</p>
<pre class="md-github"><code class="md-github language-bash">npx vitest run --coverage
</code></pre>
<p class="md-github">Running with custom config:</p>
<pre class="md-github"><code class="md-github language-bash">npx vitest --config ./path/to/vitest.config.ts
</code></pre>
</li>
</ul>
<h4 class="md-github"><a class="md-github__anchor" name="3-configuration-options-with-types--defaults" href="#3-configuration-options-with-types--defaults"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3. Configuration Options with Types &amp; Defaults</h4>
<ul class="md-github">
<li class="md-github">
<p class="md-github"><strong class="md-github">test.include</strong>: string[]</p>
<ul class="md-github">
<li class="md-github">Default: ['**/*.{test,spec}.?(c|m)[jt]s?(x)']</li>
</ul>
</li>
<li class="md-github">
<p class="md-github"><strong class="md-github">test.exclude</strong>: string[]</p>
<ul class="md-github">
<li class="md-github">Default: ['<strong class="md-github">/node_modules/</strong>', '<strong class="md-github">/dist/</strong>', '<strong class="md-github">/cypress/</strong>', '<strong class="md-github">/.{idea,git,cache,output,temp}/</strong>', '**/{karma,rollup,webpack,vite,vitest,jest,ava,babel,nyc,cypress,tsup,build,eslint,prettier}.config.*']</li>
</ul>
</li>
<li class="md-github">
<p class="md-github"><strong class="md-github">test.globals</strong>: boolean</p>
<ul class="md-github">
<li class="md-github">Default: false</li>
</ul>
</li>
<li class="md-github">
<p class="md-github"><strong class="md-github">test.environment</strong>: string</p>
<ul class="md-github">
<li class="md-github">Default: 'node'</li>
</ul>
</li>
<li class="md-github">
<p class="md-github"><strong class="md-github">server.sourcemap</strong>: 'inline' | boolean</p>
<ul class="md-github">
<li class="md-github">Default: 'inline'</li>
</ul>
</li>
<li class="md-github">
<p class="md-github"><strong class="md-github">server.deps.external</strong>: (string | RegExp)[]</p>
<ul class="md-github">
<li class="md-github">Default: [//node_modules//]</li>
</ul>
</li>
<li class="md-github">
<p class="md-github"><strong class="md-github">server.deps.inline</strong>: (string | RegExp)[] | true</p>
<ul class="md-github">
<li class="md-github">Default: []</li>
</ul>
</li>
<li class="md-github">
<p class="md-github"><strong class="md-github">deps.optimizer</strong>: object with properties for both <code class="md-github">ssr</code> and <code class="md-github">web</code> modes, including flags such as <code class="md-github">enabled</code> (boolean) and arrays for <code class="md-github">include</code> and <code class="md-github">exclude</code>.</p>
</li>
</ul>
<h4 class="md-github"><a class="md-github__anchor" name="4-error-handling--troubleshooting" href="#4-error-handling--troubleshooting"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4. Error Handling &amp; Troubleshooting</h4>
<ul class="md-github">
<li class="md-github">
<p class="md-github">If you receive errors like &quot;Named export not found&quot; from CommonJS modules, enable <code class="md-github">deps.interopDefault: true</code> in your config.</p>
</li>
<li class="md-github">
<p class="md-github">Use the following troubleshooting command to print available CLI options:</p>
<pre class="md-github"><code class="md-github language-bash">npx vitest --help
</code></pre>
</li>
<li class="md-github">
<p class="md-github">For snapshot issues, run with:</p>
<pre class="md-github"><code class="md-github language-bash">npx vitest --update
</code></pre>
</li>
</ul>
<h4 class="md-github"><a class="md-github__anchor" name="5-best-practices-implementation-example" href="#5-best-practices-implementation-example"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>5. Best Practices Implementation Example</h4>
<p class="md-github">Combine configuration for both Vite and Vitest:</p>
<pre class="md-github"><code class="md-github language-ts">/// &lt;reference types=&quot;vitest/config&quot; /&gt;
import { defineConfig, mergeConfig } from 'vitest/config';
import viteConfig from './vite.config';

export default mergeConfig(viteConfig, defineConfig({
  test: {
    globals: true,
    environment: 'jsdom',
    include: ['**/*.test.ts'],
    exclude: ['node_modules'],
    reporters: 'default',
    update: false,
    watch: false,
  },
}));
</code></pre>
<p class="md-github">This file demonstrates use of type directives, merging of configurations, and explicit CLI behavior overrides.</p>
<h2 class="md-github"><a class="md-github__anchor" name="original-source" href="#original-source"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Original Source</h2>
<p class="md-github">Vitest Documentation
https://vitest.dev</p>
<h2 class="md-github"><a class="md-github__anchor" name="digest-of-vitest" href="#digest-of-vitest"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Digest of VITEST</h2>
<h1 class="md-github"><a class="md-github__anchor" name="vitest-documentation-digest---retrieved-on-2023-10-12" href="#vitest-documentation-digest---retrieved-on-2023-10-12"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Vitest Documentation Digest - Retrieved on 2023-10-12</h1>
<h2 class="md-github"><a class="md-github__anchor" name="overview" href="#overview"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Overview</h2>
<p class="md-github">Vitest is a Vite-native, next generation testing framework that supports ESM, TypeScript, JSX and is fully integrated with Vite’s configuration and plugins. It includes features like smart watch mode, Jest-compatible assertions, snapshot testing, and coverage.</p>
<h2 class="md-github"><a class="md-github__anchor" name="installation" href="#installation"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Installation</h2>
<ul class="md-github">
<li class="md-github">npm: <code class="md-github">npm install -D vitest</code></li>
<li class="md-github">yarn: <code class="md-github">yarn add -D vitest</code></li>
<li class="md-github">pnpm: <code class="md-github">pnpm add -D vitest</code></li>
<li class="md-github">bun: <code class="md-github">bun add -D vitest</code></li>
</ul>
<p class="md-github"><em class="md-github">Note:</em> Vitest requires Vite &gt;= v5.0.0 and Node &gt;= v18.0.0.</p>
<h2 class="md-github"><a class="md-github__anchor" name="writing-tests" href="#writing-tests"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Writing Tests</h2>
<p class="md-github">Example of a simple addition function:</p>
<p class="md-github"><strong class="md-github">sum.js</strong></p>
<pre class="md-github"><code class="md-github language-js">export function sum(a, b) {
  return a + b;
}
</code></pre>
<p class="md-github"><strong class="md-github">sum.test.js</strong></p>
<pre class="md-github"><code class="md-github language-js">import { expect, test } from 'vitest';
import { sum } from './sum.js';

test('adds 1 + 2 to equal 3', () =&gt; {
  expect(sum(1, 2)).toBe(3);
});
</code></pre>
<p class="md-github">Update your package.json to include:</p>
<pre class="md-github"><code class="md-github language-json">{
  &quot;scripts&quot;: {
    &quot;test&quot;: &quot;vitest&quot;
  }
}
</code></pre>
<h2 class="md-github"><a class="md-github__anchor" name="configuring-vitest" href="#configuring-vitest"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Configuring Vitest</h2>
<p class="md-github">Vitest can be configured via a dedicated <code class="md-github">vitest.config.ts</code> file or within your Vite config using the <code class="md-github">test</code> property. Examples include:</p>
<p class="md-github"><strong class="md-github">vitest.config.ts</strong></p>
<pre class="md-github"><code class="md-github language-ts">import { defineConfig } from 'vitest/config';

export default defineConfig({
  test: {
    // Specify test options here
    globals: true,
    environment: 'node',
    include: ['**/*.{test,spec}.?(c|m)[jt]s?(x)'],
    exclude: ['**/node_modules/**', '**/dist/**', '**/cypress/**']
  },
});
</code></pre>
<p class="md-github"><strong class="md-github">vite.config.ts</strong></p>
<pre class="md-github"><code class="md-github language-ts">/// &lt;reference types=&quot;vitest/config&quot; /&gt;
import { defineConfig } from 'vite';

export default defineConfig({
  test: {
    // ... Specify test options here
  },
});
</code></pre>
<p class="md-github">There is also support for merging Vite and Vitest configurations using <code class="md-github">mergeConfig</code>:</p>
<pre class="md-github"><code class="md-github language-ts">import { defineConfig, mergeConfig } from 'vitest/config';
import viteConfig from './vite.config.mjs';

export default mergeConfig(viteConfig, defineConfig({
  test: {
    // ... Additional test configuration
  },
}));
</code></pre>
<h2 class="md-github"><a class="md-github__anchor" name="command-line-interface" href="#command-line-interface"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Command Line Interface</h2>
<ul class="md-github">
<li class="md-github">Run tests once: <code class="md-github">vitest run</code></li>
<li class="md-github">Watch mode: <code class="md-github">vitest</code> (auto-reruns affected tests like HMR)</li>
<li class="md-github">Coverage: <code class="md-github">vitest run --coverage</code></li>
<li class="md-github">CLI options include flags like <code class="md-github">--config</code>, <code class="md-github">--port</code>, <code class="md-github">--https</code>, and more.</li>
</ul>
<p class="md-github">Default scripts in package.json:</p>
<pre class="md-github"><code class="md-github language-json">{
  &quot;scripts&quot;: {
    &quot;test&quot;: &quot;vitest&quot;,
    &quot;coverage&quot;: &quot;vitest run --coverage&quot;
  }
}
</code></pre>
<h2 class="md-github"><a class="md-github__anchor" name="environment--integration" href="#environment--integration"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Environment &amp; Integration</h2>
<ul class="md-github">
<li class="md-github"><strong class="md-github">Environments:</strong> Configure using the <code class="md-github">environment</code> option (e.g., <code class="md-github">node</code>, <code class="md-github">jsdom</code>, <code class="md-github">happy-dom</code>, <code class="md-github">edge-runtime</code>).</li>
<li class="md-github"><strong class="md-github">Triple-slash directives:</strong> e.g., <code class="md-github">/// &lt;reference types=&quot;vitest&quot; /&gt;</code> or <code class="md-github">/// &lt;reference types=&quot;vitest/config&quot; /&gt;</code> for proper type definitions.</li>
<li class="md-github">Custom environment can be defined by creating a module that exports an <code class="md-github">Environment</code> object.</li>
</ul>
<h2 class="md-github"><a class="md-github__anchor" name="dependency-optimization--server-options" href="#dependency-optimization--server-options"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Dependency Optimization &amp; Server Options</h2>
<p class="md-github">Vitest uses Vite's dependency handling:</p>
<ul class="md-github">
<li class="md-github"><strong class="md-github">server.deps.external:</strong> Array to externalize modules (default: [//node_modules//]).</li>
<li class="md-github"><strong class="md-github">server.deps.inline:</strong> Specify modules to be inlined (or set to true for all).</li>
<li class="md-github"><strong class="md-github">server.deps.fallbackCJS:</strong> Convert ESM packages to CommonJS if needed.</li>
</ul>
<p class="md-github">Additional options include settings for sourcemaps, debugging, cache directories, and asset transformation.</p>
<h2 class="md-github"><a class="md-github__anchor" name="workspaces-support" href="#workspaces-support"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Workspaces Support</h2>
<p class="md-github">Vitest supports multi-workspace configuration using a <code class="md-github">vitest.workspace.ts</code> file. Example:</p>
<pre class="md-github"><code class="md-github language-ts">import { defineWorkspace } from 'vitest/config';

export default defineWorkspace([
  'packages/*',
  'tests/*/vitest.config.{e2e,unit}.ts',
  {
    test: {
      name: 'happy-dom',
      root: './shared_tests',
      environment: 'happy-dom',
      setupFiles: ['./setup.happy-dom.ts'],
    },
  },
  {
    test: {
      name: 'node',
      root: './shared_tests',
      environment: 'node',
      setupFiles: ['./setup.node.ts'],
    },
  },
]);
</code></pre>
<h2 class="md-github"><a class="md-github__anchor" name="troubleshooting--best-practices" href="#troubleshooting--best-practices"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Troubleshooting &amp; Best Practices</h2>
<ul class="md-github">
<li class="md-github">When using Bun, use <code class="md-github">bun run test</code> instead of <code class="md-github">bun test</code>.</li>
<li class="md-github">For dependencies issues with CommonJS modules, enable <code class="md-github">deps.interopDefault</code> to interpret defaults correctly.</li>
<li class="md-github">Verify that configuration in Vitest and Vite align if using separate config files; use <code class="md-github">mergeConfig</code> to combine them.</li>
<li class="md-github">Use explicit CLI flags (e.g. <code class="md-github">--update</code>, <code class="md-github">--watch</code>) to control snapshot updates and test watching behavior.</li>
</ul>
<h2 class="md-github"><a class="md-github__anchor" name="attribution" href="#attribution"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Attribution</h2>
<ul class="md-github">
<li class="md-github">Source: Vitest Documentation</li>
<li class="md-github">URL: https://vitest.dev</li>
<li class="md-github">License: MIT License</li>
<li class="md-github">Crawl Date: 2025-04-17T15:26:06.936Z</li>
<li class="md-github">Data Size: 41837296 bytes</li>
<li class="md-github">Links Found: 26309</li>
</ul>
<h2 class="md-github"><a class="md-github__anchor" name="retrieved" href="#retrieved"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Retrieved</h2>
<p class="md-github">2025-04-17</p>

  </section>
  <footer>
    <p>Generated on 2025-04-19T18:25:50.595Z</p>
  </footer>
</body>
</html>