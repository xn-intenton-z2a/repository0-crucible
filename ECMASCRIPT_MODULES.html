<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>agentic-lib</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 2em; background-color: #f9f9f9; color: #333; }
    header { padding-bottom: 1em; border-bottom: 2px solid #ccc; margin-bottom: 1em; }
    h1 { font-size: 2em; }
    section { margin-bottom: 1.5em; }
    ul { list-style: none; padding: 0; }
    li { margin: 0.5em 0; }
    .label { font-weight: bold; }
    footer { margin-top: 2em; font-size: 0.9em; color: #777; }
    a { color: #0366d6; text-decoration: none; }
    a:hover { text-decoration: underline; }
  </style>
</head>
<body>
  <header>
    <h1>agentic-lib</h1>
    <p><a href="https://github.com/xn-intenton-z2a/agentic-lib">repository</a> - <a href="https://xn-intenton-z2a.github.io/agentic-lib/latest.html">latest stats</a> - <a href="https://xn-intenton-z2a.github.io/agentic-lib/all.html">all stats</a></p>
  </header>
  <section>
    <h1 class="md-github"><a class="md-github__anchor" name="ecmascript_modules" href="#ecmascript_modules"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ECMASCRIPT_MODULES</h1>
<h2 class="md-github"><a class="md-github__anchor" name="crawl-summary" href="#crawl-summary"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Crawl Summary</h2>
<p class="md-github">The crawled content details the Node.js ECMAScript Modules documentation including enabling ESM via .mjs or package.json, import specifier types (relative, bare, absolute), mandatory file extensions, URL-based resolution rules, support for data: and node: imports, and import attributes (especially for JSON modules). It also covers interoperability with CommonJS, dynamic import() expressions, properties available in import.meta (url, filename, dirname, resolve), and a detailed module resolution algorithm (ESM_RESOLVE, PACKAGE_RESOLVE, ESM_FILE_FORMAT) including error conditions and customization hooks.</p>
<h2 class="md-github"><a class="md-github__anchor" name="normalised-extract" href="#normalised-extract"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Normalised Extract</h2>
<p class="md-github">Table of Contents:</p>
<ol class="md-github">
<li class="md-github">Introduction</li>
<li class="md-github">Enabling ESM</li>
<li class="md-github">Import Specifiers</li>
<li class="md-github">Mandatory File Extensions</li>
<li class="md-github">URL and Data Imports</li>
<li class="md-github">Node: Imports</li>
<li class="md-github">Import Attributes</li>
<li class="md-github">Built-in Modules</li>
<li class="md-github">Dynamic import() Expressions</li>
<li class="md-github">import.meta Properties</li>
<li class="md-github">Interoperability with CommonJS</li>
<li class="md-github">Resolution and Loading Algorithm</li>
<li class="md-github">Customizing ESM Specifier Resolution</li>
<li class="md-github">Version Changes and History</li>
</ol>
<p class="md-github">Details:</p>
<ol class="md-github">
<li class="md-github">Introduction:
<ul class="md-github">
<li class="md-github">Use of <code class="md-github">import</code> and <code class="md-github">export</code> such as:<pre class="md-github"><code class="md-github language-js">export function addTwo(num) { return num + 2; }
</code></pre>
</li>
</ul>
</li>
<li class="md-github">Enabling ESM:
<ul class="md-github">
<li class="md-github">Mark modules with <code class="md-github">.mjs</code> or set package.json &quot;type&quot;: &quot;module&quot; or use <code class="md-github">--input-type=module</code>.</li>
</ul>
</li>
<li class="md-github">Import Specifiers:
<ul class="md-github">
<li class="md-github">Relative: <code class="md-github">./file.js</code>, Bare: <code class="md-github">package</code> or <code class="md-github">package/sub</code>, Absolute: <code class="md-github">file:///path/to/file.js</code>.</li>
</ul>
</li>
<li class="md-github">Mandatory File Extensions:
<ul class="md-github">
<li class="md-github">Always include extensions like <code class="md-github">.js</code>, <code class="md-github">.mjs</code> in imports.</li>
</ul>
</li>
<li class="md-github">URL and Data Imports:
<ul class="md-github">
<li class="md-github">Modules resolved as URLs; data: URL example:<pre class="md-github"><code class="md-github language-js">import 'data:text/javascript,console.log(&quot;hello&quot;)';
</code></pre>
</li>
</ul>
</li>
<li class="md-github">Node: Imports:
<ul class="md-github">
<li class="md-github">Use <code class="md-github">node:fs</code> to import Node built-ins.</li>
</ul>
</li>
<li class="md-github">Import Attributes:
<ul class="md-github">
<li class="md-github">Syntax: <code class="md-github">import foo from './foo.json' with { type: 'json' }</code>.</li>
</ul>
</li>
<li class="md-github">Built-in Modules:
<ul class="md-github">
<li class="md-github">Expose both named and default exports (CommonJS interop) e.g., <code class="md-github">import EventEmitter from 'node:events';</code>.</li>
</ul>
</li>
<li class="md-github">Dynamic import() Expressions:
<ul class="md-github">
<li class="md-github">Asynchronous dynamic loading using <code class="md-github">import()</code> in both ESM and CommonJS contexts.</li>
</ul>
</li>
<li class="md-github">import.meta Properties:
<ul class="md-github">
<li class="md-github">Properties include: <code class="md-github">import.meta.url</code>, <code class="md-github">import.meta.filename</code>, <code class="md-github">import.meta.dirname</code>, and <code class="md-github">import.meta.resolve(specifier)</code> (synchronous resolution function).</li>
</ul>
</li>
<li class="md-github">Interoperability with CommonJS:
<ul class="md-github">
<li class="md-github">Import CJS modules via default import; use <code class="md-github">module.createRequire()</code> for require() functionality.</li>
</ul>
</li>
<li class="md-github">Resolution and Loading Algorithm:
<ul class="md-github">
<li class="md-github">Detailed algorithm determining the module URL and format. Functions include ESM_RESOLVE, PACKAGE_RESOLVE, and ESM_FILE_FORMAT.</li>
</ul>
</li>
<li class="md-github">Customizing ESM Specifier Resolution:
<ul class="md-github">
<li class="md-github">Support for custom loaders to override resolution behavior.</li>
</ul>
</li>
<li class="md-github">Version Changes and History:
<ul class="md-github">
<li class="md-github">Specific version notes detailing changes from v8.5.0 up to v23.1.0.</li>
</ul>
</li>
</ol>
<h2 class="md-github"><a class="md-github__anchor" name="supplementary-details" href="#supplementary-details"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Supplementary Details</h2>
<p class="md-github">Specifications:</p>
<ul class="md-github">
<li class="md-github">Enabling Options:
<ul class="md-github">
<li class="md-github"><code class="md-github">.mjs</code> extension, package.json &quot;type&quot;: &quot;module&quot;, <code class="md-github">--input-type=module</code></li>
<li class="md-github">For CommonJS: <code class="md-github">.cjs</code>, &quot;commonjs&quot; or <code class="md-github">--input-type=commonjs</code></li>
</ul>
</li>
<li class="md-github">Import Attributes:
<ul class="md-github">
<li class="md-github">For JSON imports, use syntax: <code class="md-github">import json from './file.json' with { type: 'json' }</code>.</li>
</ul>
</li>
<li class="md-github">import.meta API:
<ul class="md-github">
<li class="md-github"><code class="md-github">import.meta.url</code> (string), <code class="md-github">import.meta.filename</code> (string, file protocol only), <code class="md-github">import.meta.dirname</code> (string), <code class="md-github">import.meta.resolve(specifier)</code> returns resolved URL string.</li>
</ul>
</li>
<li class="md-github">Resolution Algorithm (ESM_RESOLVE):
<ul class="md-github">
<li class="md-github">Accepts a specifier and parentURL. Distinguishes between valid URL, relative, or bare specifiers.</li>
<li class="md-github">Calls PACKAGE_RESOLVE for bare specifiers.</li>
</ul>
</li>
<li class="md-github">ESM_FILE_FORMAT:
<ul class="md-github">
<li class="md-github">Uses file extension to determine format: <code class="md-github">.mjs</code> for module, <code class="md-github">.cjs</code> for commonjs, <code class="md-github">.json</code> for json, and experimental flags enable <code class="md-github">.wasm</code> and <code class="md-github">.node</code> support.</li>
</ul>
</li>
<li class="md-github">Error conditions include Invalid Module Specifier, Package Not Found, and Unsupported Directory Import.</li>
<li class="md-github">Custom Loader Hooks: Allow overriding resolution (e.g. commonjs-extension-resolution-loader).</li>
</ul>
<h2 class="md-github"><a class="md-github__anchor" name="reference-details" href="#reference-details"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Reference Details</h2>
<p class="md-github">API Specifications and Code Examples:</p>
<ol class="md-github">
<li class="md-github">
<p class="md-github">import.meta.resolve:</p>
<ul class="md-github">
<li class="md-github">Signature: <code class="md-github">function resolve(specifier: string, parentURL?: string | URL): string</code></li>
<li class="md-github">Usage:<pre class="md-github"><code class="md-github language-js">const resolved = import.meta.resolve('./dep.js');
// returns something like: 'file:///app/dep.js'
</code></pre>
</li>
<li class="md-github">Throws errors if specifier is invalid or resolution fails.</li>
</ul>
</li>
<li class="md-github">
<p class="md-github">ESM_FILE_FORMAT(url):</p>
<ul class="md-github">
<li class="md-github">Pseudocode:<pre class="md-github"><code class="md-github language-js">function ESM_FILE_FORMAT(url) {
  if (url.endsWith('.mjs')) return 'module';
  if (url.endsWith('.cjs')) return 'commonjs';
  if (url.endsWith('.json')) return 'json';
  if (experimentalWasm &amp;&amp; url.endsWith('.wasm')) return 'wasm';
  // ... detect using package.json type and source analysis
  return 'commonjs';
}
</code></pre>
</li>
</ul>
</li>
<li class="md-github">
<p class="md-github">Module Resolution Algorithm (ESM_RESOLVE):</p>
<ul class="md-github">
<li class="md-github">Steps:
a. If specifier is a valid URL, reserialize it.
b. Else if specifier starts with '/', './', or '../', resolve relative to parentURL.
c. Else if specifier starts with '#', use PACKAGE_IMPORTS_RESOLVE.
d. Else treat as bare specifier and use PACKAGE_RESOLVE.</li>
</ul>
</li>
<li class="md-github">
<p class="md-github">CommonJS Interoperability Example:</p>
<ul class="md-github">
<li class="md-github">Dynamic import of a CommonJS module:<pre class="md-github"><code class="md-github language-js">import { createRequire } from 'module';
const require = createRequire(import.meta.url);
const cjsModule = require('./module.cjs');
console.log(cjsModule);
</code></pre>
</li>
</ul>
</li>
<li class="md-github">
<p class="md-github">Troubleshooting Procedure:</p>
<ul class="md-github">
<li class="md-github">If a module is not found, check:
<ul class="md-github">
<li class="md-github">The specifier format (ensure proper file extension).</li>
<li class="md-github">Use <code class="md-github">import.meta.resolve</code> to debug the resolved URL.</li>
<li class="md-github">Verify package.json exports field when using bare specifiers.</li>
</ul>
</li>
<li class="md-github">For resolution errors, commands such as:<pre class="md-github"><code class="md-github language-bash">node --trace-warnings app.mjs
</code></pre>
can be used to reveal detailed resolution steps.</li>
</ul>
</li>
<li class="md-github">
<p class="md-github">Best Practices:</p>
<ul class="md-github">
<li class="md-github">Always specify file extensions in import statements.</li>
<li class="md-github">For JSON modules, always include <code class="md-github">with { type: 'json' }</code>.</li>
<li class="md-github">Use <code class="md-github">import.meta.url</code> to dynamically generate file paths with <code class="md-github">new URL('./file', import.meta.url)</code>.</li>
<li class="md-github">When mixing legacy CommonJS, use <code class="md-github">module.createRequire()</code> to ensure full compatibility.</li>
</ul>
</li>
</ol>
<h2 class="md-github"><a class="md-github__anchor" name="original-source" href="#original-source"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Original Source</h2>
<p class="md-github">Node.js ECMAScript Modules
https://nodejs.org/api/esm.html</p>
<h2 class="md-github"><a class="md-github__anchor" name="digest-of-ecmascript_modules" href="#digest-of-ecmascript_modules"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Digest of ECMASCRIPT_MODULES</h2>
<h1 class="md-github"><a class="md-github__anchor" name="ecmascript-modules" href="#ecmascript-modules"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ECMASCRIPT MODULES</h1>
<p class="md-github"><strong class="md-github">Retrieved:</strong> 2023-10-06</p>
<h2 class="md-github"><a class="md-github__anchor" name="introduction" href="#introduction"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Introduction</h2>
<p class="md-github">ECMAScript modules (ESM) are the official JavaScript module format. They are defined using <code class="md-github">import</code> and <code class="md-github">export</code> statements. For example:</p>
<pre class="md-github"><code class="md-github language-js">// addTwo.mjs
function addTwo(num) {
  return num + 2;
}

export { addTwo };
</code></pre>
<p class="md-github">And imported as:</p>
<pre class="md-github"><code class="md-github language-js">// app.mjs
import { addTwo } from './addTwo.mjs';
console.log(addTwo(4)); // Prints: 6
</code></pre>
<p class="md-github">Node.js supports ESM fully and inter-operates with CommonJS modules.</p>
<h2 class="md-github"><a class="md-github__anchor" name="enabling-esm" href="#enabling-esm"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Enabling ESM</h2>
<p class="md-github">Node.js recognizes ES modules via:</p>
<ul class="md-github">
<li class="md-github">File extension: <code class="md-github">.mjs</code></li>
<li class="md-github"><code class="md-github">package.json</code> field: <code class="md-github">{ &quot;type&quot;: &quot;module&quot; }</code></li>
<li class="md-github">CLI flag: <code class="md-github">--input-type=module</code></li>
</ul>
<p class="md-github">For CommonJS, use <code class="md-github">.cjs</code> or set type to <code class="md-github">commonjs</code>.</p>
<h2 class="md-github"><a class="md-github__anchor" name="import-specifiers" href="#import-specifiers"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Import Specifiers</h2>
<p class="md-github">Import specifiers come in three forms:</p>
<ol class="md-github">
<li class="md-github"><strong class="md-github">Relative specifiers:</strong> e.g. <code class="md-github">./startup.js</code> or <code class="md-github">../config.mjs</code> (file extension required).</li>
<li class="md-github"><strong class="md-github">Bare specifiers:</strong> e.g. <code class="md-github">some-package</code> or <code class="md-github">some-package/shuffle</code>; file extension required if no exports field.</li>
<li class="md-github"><strong class="md-github">Absolute specifiers:</strong> e.g. <code class="md-github">file:///opt/nodejs/config.js</code>.</li>
</ol>
<p class="md-github">Resolution of bare specifiers is handled by Node.js module resolution algorithm.</p>
<h2 class="md-github"><a class="md-github__anchor" name="mandatory-file-extensions" href="#mandatory-file-extensions"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Mandatory File Extensions</h2>
<p class="md-github">A file extension is mandatory when using <code class="md-github">import</code>. Directory indexes must also be fully specified, e.g., <code class="md-github">./startup/index.js</code>.</p>
<h2 class="md-github"><a class="md-github__anchor" name="urls-and-data-imports" href="#urls-and-data-imports"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>URLs and Data Imports</h2>
<ul class="md-github">
<li class="md-github"><strong class="md-github">ESM Resolution as URLs:</strong> Modules are cached as URLs with percent-encoding applied. Supported schemes include <code class="md-github">file:</code>, <code class="md-github">node:</code>, and <code class="md-github">data:</code>.</li>
<li class="md-github"><strong class="md-github">data:</strong>
<ul class="md-github">
<li class="md-github">Supported MIME types: <code class="md-github">text/javascript</code>, <code class="md-github">application/json</code>, <code class="md-github">application/wasm</code>.</li>
<li class="md-github">Example:<pre class="md-github"><code class="md-github language-js">import 'data:text/javascript,console.log(&quot;hello!&quot;);';
</code></pre>
</li>
</ul>
</li>
</ul>
<h2 class="md-github"><a class="md-github__anchor" name="node-imports" href="#node-imports"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Node: Imports</h2>
<p class="md-github">Node.js supports <code class="md-github">node:</code> URLs for built-in modules. Example:</p>
<pre class="md-github"><code class="md-github language-js">import fs from 'node:fs/promises';
</code></pre>
<h2 class="md-github"><a class="md-github__anchor" name="import-attributes" href="#import-attributes"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Import Attributes</h2>
<p class="md-github">Import attributes allow additional options with import statements. Only the <code class="md-github">type</code> attribute is supported. Example for JSON:</p>
<pre class="md-github"><code class="md-github language-js">import fooData from './foo.json' with { type: 'json' };

const { default: barData } = await import('./bar.json', { with: { type: 'json' } });
</code></pre>
<p class="md-github">The <code class="md-github">type: 'json'</code> attribute is mandatory for JSON modules.</p>
<h2 class="md-github"><a class="md-github__anchor" name="built-in-modules" href="#built-in-modules"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Built-in Modules</h2>
<p class="md-github">Built-in modules expose named exports from their public API. They can also expose a default export representing the CommonJS <code class="md-github">module.exports</code>.</p>
<p class="md-github">Example:</p>
<pre class="md-github"><code class="md-github language-js">import EventEmitter from 'node:events';
const e = new EventEmitter();
</code></pre>
<p class="md-github">Or:</p>
<pre class="md-github"><code class="md-github language-js">import { readFile } from 'node:fs';
readFile('./foo.txt', (err, source) =&gt; {
  if (err) console.error(err);
  else console.log(source);
});
</code></pre>
<h2 class="md-github"><a class="md-github__anchor" name="dynamic-import-expressions" href="#dynamic-import-expressions"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Dynamic import() Expressions</h2>
<p class="md-github">Both ESM and CommonJS support dynamic <code class="md-github">import()</code>. In CommonJS, it loads an ESM module. Example:</p>
<pre class="md-github"><code class="md-github language-js">(async () =&gt; {
  const module = await import('./module.mjs');
  console.log(module);
})();
</code></pre>
<h2 class="md-github"><a class="md-github__anchor" name="importmeta-properties" href="#importmeta-properties"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>import.meta Properties</h2>
<p class="md-github">The <code class="md-github">import.meta</code> object contains metadata about the current module:</p>
<ul class="md-github">
<li class="md-github">
<p class="md-github"><strong class="md-github">import.meta.url:</strong> Absolute URL of the module.</p>
</li>
<li class="md-github">
<p class="md-github"><strong class="md-github">import.meta.filename:</strong> Full resolved file path (file modules only).</p>
</li>
<li class="md-github">
<p class="md-github"><strong class="md-github">import.meta.dirname:</strong> Directory name of the current module.</p>
</li>
<li class="md-github">
<p class="md-github"><strong class="md-github">import.meta.resolve(specifier):</strong> Resolves a specifier relative to the current module. Signature:</p>
<pre class="md-github"><code class="md-github language-js">// Synchronous function returning a string URL
const resolvedUrl = import.meta.resolve(specifier);
</code></pre>
</li>
</ul>
<h2 class="md-github"><a class="md-github__anchor" name="interoperability-with-commonjs" href="#interoperability-with-commonjs"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Interoperability with CommonJS</h2>
<ul class="md-github">
<li class="md-github"><strong class="md-github">Import Statements:</strong> Can load either ESM or CommonJS modules. For CJS, the <code class="md-github">module.exports</code> is the default export.</li>
<li class="md-github"><strong class="md-github">require():</strong> In ESM, use <code class="md-github">module.createRequire()</code> to load CommonJS modules when needed.</li>
<li class="md-github"><strong class="md-github">No __filename or __dirname:</strong> Use <code class="md-github">import.meta.filename</code> or <code class="md-github">import.meta.dirname</code> instead.</li>
</ul>
<h2 class="md-github"><a class="md-github__anchor" name="resolution-and-loading-algorithm" href="#resolution-and-loading-algorithm"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Resolution and Loading Algorithm</h2>
<p class="md-github">The resolution algorithm (<code class="md-github">ESM_RESOLVE</code>) returns the resolved URL and a suggested module format. Key steps:</p>
<ul class="md-github">
<li class="md-github">For a valid URL specifier, it parses and re-serializes.</li>
<li class="md-github">For relative or absolute specifiers, it resolves based on <code class="md-github">parentURL</code>.</li>
<li class="md-github">For bare specifiers, it uses <code class="md-github">PACKAGE_RESOLVE()</code> and looks up in <code class="md-github">node_modules</code> and package.json exports.</li>
</ul>
<p class="md-github">The file format is determined using <code class="md-github">ESM_FILE_FORMAT(url)</code>, e.g.:</p>
<pre class="md-github"><code class="md-github language-plaintext">if (url.endsWith('.mjs')) return &quot;module&quot;;
if (url.endsWith('.cjs')) return &quot;commonjs&quot;;
if (url.endsWith('.json')) return &quot;json&quot;;
</code></pre>
<h2 class="md-github"><a class="md-github__anchor" name="customizing-the-esm-specifier-resolution" href="#customizing-the-esm-specifier-resolution"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Customizing the ESM Specifier Resolution</h2>
<p class="md-github">Module customization hooks allow an ESM specifier resolution override. For example, the CommonJS extension resolution loader provides a custom resolution.</p>
<h2 class="md-github"><a class="md-github__anchor" name="version-changes-and-history" href="#version-changes-and-history"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Version Changes and History</h2>
<p class="md-github">Key version changes include:</p>
<ul class="md-github">
<li class="md-github"><strong class="md-github">v23.1.0:</strong> Import attributes are no longer experimental.</li>
<li class="md-github"><strong class="md-github">v22.0.0:</strong> Dropped support for import assertions.</li>
<li class="md-github"><strong class="md-github">v17.1.0:</strong> Added experimental support for import assertions (now replaced).</li>
<li class="md-github"><strong class="md-github">v14.8.0:</strong> Top-level await unflagged.</li>
</ul>
<h2 class="md-github"><a class="md-github__anchor" name="attribution-and-data-size" href="#attribution-and-data-size"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Attribution and Data Size</h2>
<ul class="md-github">
<li class="md-github"><strong class="md-github">Data Size:</strong> 4163715 bytes</li>
<li class="md-github"><strong class="md-github">Links Found:</strong> 3208</li>
<li class="md-github"><strong class="md-github">Source:</strong> Node.js v23.11.0 documentation (ECMAScript Modules)</li>
</ul>
<h2 class="md-github"><a class="md-github__anchor" name="attribution" href="#attribution"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Attribution</h2>
<ul class="md-github">
<li class="md-github">Source: Node.js ECMAScript Modules</li>
<li class="md-github">URL: https://nodejs.org/api/esm.html</li>
<li class="md-github">License: Official Node.js License</li>
<li class="md-github">Crawl Date: 2025-04-20T19:46:35.800Z</li>
<li class="md-github">Data Size: 4163715 bytes</li>
<li class="md-github">Links Found: 3208</li>
</ul>
<h2 class="md-github"><a class="md-github__anchor" name="retrieved" href="#retrieved"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Retrieved</h2>
<p class="md-github">2025-04-20</p>

  </section>
  <footer>
    <p>Generated on 2025-04-21T06:26:29.296Z</p>
  </footer>
</body>
</html>