<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>agentic-lib</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 2em; background-color: #f9f9f9; color: #333; }
    header { padding-bottom: 1em; border-bottom: 2px solid #ccc; margin-bottom: 1em; }
    h1 { font-size: 2em; }
    section { margin-bottom: 1.5em; }
    ul { list-style: none; padding: 0; }
    li { margin: 0.5em 0; }
    .label { font-weight: bold; }
    footer { margin-top: 2em; font-size: 0.9em; color: #777; }
    a { color: #0366d6; text-decoration: none; }
    a:hover { text-decoration: underline; }
  </style>
</head>
<body>
  <header>
    <h1>agentic-lib</h1>
    <p><a href="https://github.com/xn-intenton-z2a/agentic-lib">repository</a> - <a href="https://xn-intenton-z2a.github.io/agentic-lib/latest.html">latest stats</a> - <a href="https://xn-intenton-z2a.github.io/agentic-lib/all.html">all stats</a></p>
  </header>
  <section>
    <h1 class="md-github"><a class="md-github__anchor" name="owl-builder" href="#owl-builder"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>owl-builder</h1>
<p class="md-github">owl-builder is a CLI tool and JavaScript library for building dynamic OWL ontologies from live, verified public data sources. In this release, live data integration is the default for building, updating, querying, and persisting ontologies, while the legacy static fallback remains for emergency use only.</p>
<h2 class="md-github"><a class="md-github__anchor" name="cli-integration" href="#cli-integration"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>CLI Integration</h2>
<p class="md-github">The CLI command handling has been integrated directly into the main module (<code class="md-github">src/lib/main.js</code>). This consolidation simplifies the project structure, eliminating the need for a separate CLI directory. The main module now provides functions such as <code class="md-github">runCLI</code>, <code class="md-github">getVersion</code>, <code class="md-github">displayHelp</code>, <code class="md-github">listCommands</code>, and <code class="md-github">startWebServer</code>.</p>
<h3 class="md-github"><a class="md-github__anchor" name="usage-examples" href="#usage-examples"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Usage Examples</h3>
<h4 class="md-github"><a class="md-github__anchor" name="running-the-cli" href="#running-the-cli"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Running the CLI</h4>
<pre class="md-github"><code class="md-github language-bash">node src/lib/main.js --detect-anomaly '{&quot;entries&quot;: []}'
</code></pre>
<p class="md-github">This command simulates an anomaly scenario with an empty <code class="md-github">entries</code> array, triggering the automated rollback mechanism if a valid backup exists.</p>
<h4 class="md-github"><a class="md-github__anchor" name="exporting-telemetry-data" href="#exporting-telemetry-data"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exporting Telemetry Data</h4>
<p class="md-github">To export telemetry data in JSON format (default):</p>
<pre class="md-github"><code class="md-github language-bash">node src/lib/main.js --export-telemetry
</code></pre>
<p class="md-github">To export telemetry data in CSV format:</p>
<pre class="md-github"><code class="md-github language-bash">node src/lib/main.js --export-telemetry --format csv
</code></pre>
<p class="md-github">After running the command, check the respective file (<code class="md-github">telemetry.json</code> or <code class="md-github">telemetry.csv</code>) in your working directory for the exported telemetry data.</p>
<h2 class="md-github"><a class="md-github__anchor" name="web-server-and-websocket-notifications" href="#web-server-and-websocket-notifications"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Web Server and WebSocket Notifications</h2>
<p class="md-github">owl-builder now includes an integrated web server and WebSocket notification service. The web server responds to HTTP GET requests on <code class="md-github">/</code> with a simple status message, while the WebSocket server broadcasts a JSON payload to all connected clients whenever key ontology operations (e.g., refresh, merge, update, rollback) occur.</p>
<h3 class="md-github"><a class="md-github__anchor" name="how-it-works" href="#how-it-works"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How It Works</h3>
<ul class="md-github">
<li class="md-github">
<p class="md-github">The web server and WebSocket server run on the same port (default is 3000). You can start the server using the CLI command:</p>
<pre class="md-github"><code class="md-github language-bash">node src/lib/main.js --serve
</code></pre>
</li>
<li class="md-github">
<p class="md-github">When an ontology is updated, refreshed, merged, or rolled back, a payload is broadcast with the following fields:</p>
<ul class="md-github">
<li class="md-github"><code class="md-github">updatedOntologyTitle</code>: The title of the updated ontology.</li>
<li class="md-github"><code class="md-github">version</code>: The current version of owl-builder.</li>
<li class="md-github"><code class="md-github">timestamp</code>: ISO-formatted timestamp of the update.</li>
<li class="md-github"><code class="md-github">statusMessage</code>: A description of the update (e.g., &quot;Ontology refreshed&quot;).</li>
</ul>
</li>
</ul>
<h3 class="md-github"><a class="md-github__anchor" name="using-the-web-server" href="#using-the-web-server"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using the Web Server</h3>
<p class="md-github">You can check the server status by navigating to <code class="md-github">http://localhost:3000/</code> in your browser. A successful response will display:</p>
<pre class="md-github"><code class="md-github">owl-builder Web Server Running
</code></pre>
<h2 class="md-github"><a class="md-github__anchor" name="real-time-anomaly-detection-and-automated-rollback" href="#real-time-anomaly-detection-and-automated-rollback"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Real-Time Anomaly Detection and Automated Rollback</h2>
<p class="md-github">A new feature in owl-builder is the real-time anomaly detection mechanism within the live data integration workflow. After fetching data from a live endpoint, the data is validated to ensure it meets expected schema criteria. For instance, when using the <code class="md-github">https://api.publicapis.org/entries</code> endpoint, the data must contain an <code class="md-github">entries</code> array with at least one element.</p>
<p class="md-github">If an anomaly is detected (e.g., missing or empty <code class="md-github">entries</code>), owl-builder logs detailed diagnostic messages and broadcasts a WebSocket alert. In addition, owl-builder automatically attempts to restore a valid ontology by rolling back to the last known good backup stored in <code class="md-github">ontology-backup.json</code>. If the rollback is successful, the backup ontology is restored as the current ontology and a WebSocket notification with the status message &quot;Ontology rollback executed due to live data anomaly&quot; is broadcast.</p>
<h2 class="md-github"><a class="md-github__anchor" name="environment-variable-handling" href="#environment-variable-handling"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Environment Variable Handling</h2>
<p class="md-github">owl-builder processes environment variables inline. This includes:</p>
<ol class="md-github">
<li class="md-github">
<p class="md-github"><strong class="md-github">Normalization</strong>: All environment variable values are trimmed and collapsed. For example, inputs like &quot;  NaN  &quot;, &quot; nAn &quot;, or even with non-breaking spaces like &quot;\u00A0NaN\u00A0&quot; are normalized to a consistent format.</p>
</li>
<li class="md-github">
<p class="md-github"><strong class="md-github">Fallback Mechanism</strong>: If an environment variable expected to be numeric is found to be non-numeric, a diagnostic warning is logged and the value falls back to a default or configurable fallback value. This behavior is determined by:</p>
<ul class="md-github">
<li class="md-github">The default value provided to the parser.</li>
<li class="md-github">An optional fallback value if specified.</li>
<li class="md-github">CLI override values (e.g. <code class="md-github">--livedata-retry-default</code> and <code class="md-github">--livedata-delay-default</code>), which take precedence over environment-specified or default values.</li>
</ul>
</li>
<li class="md-github">
<p class="md-github"><strong class="md-github">Aggregated Telemetry</strong>: To avoid flooding logs, warnings for non-numeric inputs are aggregated per unique normalized value. The number of warnings logged is controlled by the <code class="md-github">NANFALLBACK_WARNING_THRESHOLD</code> (default is 1). You can view a summary of all such warnings using the CLI flag <code class="md-github">--diagnostic-summary-naN</code>.</p>
</li>
<li class="md-github">
<p class="md-github"><strong class="md-github">Explicit 'NaN' Handling</strong>: Explicit inputs that normalize to &quot;nan&quot; (including edge-case variations) are now detected and logged as a distinct telemetry event labeled &quot;ExplicitNaN&quot;. These explicit 'NaN' values will also fall back to default values but are clearly distinguished in diagnostic logs.</p>
</li>
<li class="md-github">
<p class="md-github"><strong class="md-github">Strict Mode</strong>: When strict mode is enabled (using the <code class="md-github">--strict-env</code> CLI flag or setting <code class="md-github">STRICT_ENV=true</code>), any non-numeric input will immediately throw an error instead of falling back.</p>
</li>
<li class="md-github">
<p class="md-github"><strong class="md-github">Optimized Telemetry Batching</strong>: A debounced flush mechanism ensures that rapid, successive non-numeric inputs are batched efficiently. The delay for flushing telemetry logs is configurable via the <code class="md-github">TELEMETRY_FLUSH_DELAY</code> environment variable (default is 50ms).</p>
</li>
</ol>
<h2 class="md-github"><a class="md-github__anchor" name="contributing" href="#contributing"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Contributing</h2>
<p class="md-github">Contributions are welcome! Please review <a href="CONTRIBUTING.md" class="md-github">CONTRIBUTING.md</a> for coding standards, testing requirements, and workflow guidelines. When contributing changes to the CLI command handling system, ensure that you update both the inline documentation in the source code and this README with the details of the integrated CLI approach.</p>
<h2 class="md-github"><a class="md-github__anchor" name="license" href="#license"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>License</h2>
<p class="md-github">Released under the MIT License.</p>

  </section>
  <footer>
    <p>Generated on 2025-04-09T15:49:44.767Z</p>
  </footer>
</body>
</html>