<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>agentic-lib</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 2em; background-color: #f9f9f9; color: #333; }
    header { padding-bottom: 1em; border-bottom: 2px solid #ccc; margin-bottom: 1em; }
    h1 { font-size: 2em; }
    section { margin-bottom: 1.5em; }
    ul { list-style: none; padding: 0; }
    li { margin: 0.5em 0; }
    .label { font-weight: bold; }
    footer { margin-top: 2em; font-size: 0.9em; color: #777; }
    a { color: #0366d6; text-decoration: none; }
    a:hover { text-decoration: underline; }
  </style>
</head>
<body>
  <header>
    <h1>agentic-lib</h1>
    <p><a href="https://github.com/xn-intenton-z2a/agentic-lib">repository</a> - <a href="https://xn-intenton-z2a.github.io/agentic-lib/latest.html">latest stats</a> - <a href="https://xn-intenton-z2a.github.io/agentic-lib/all.html">all stats</a></p>
  </header>
  <section>
    <h1 class="md-github"><a class="md-github__anchor" name="owl-builder" href="#owl-builder"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>owl-builder</h1>
<p class="md-github">owl-builder is a CLI tool and JavaScript library for building dynamic OWL ontologies from live, verified public data sources. In this release, live data integration is the default for building, updating, querying, and persisting ontologies, while the legacy static fallback remains for emergency use only.</p>
<h2 class="md-github"><a class="md-github__anchor" name="overview" href="#overview"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Overview</h2>
<p class="md-github">Key features include:</p>
<ul class="md-github">
<li class="md-github">
<p class="md-github"><strong class="md-github">Live Data Integration:</strong> Ontologies are built using up-to-date data from trusted public endpoints. Enhanced error handling and diagnostic logging now provide detailed information on each retry attempt during live data fetching, which uses an exponential backoff strategy with randomized jitter to improve network resilience and mitigate thundering herd issues. Environment variables <code class="md-github">LIVEDATA_RETRY_COUNT</code> and <code class="md-github">LIVEDATA_INITIAL_DELAY</code> are parsed using a consolidated helper function that applies default values when not set, empty, or when invalid non-numeric values (e.g., <code class="md-github">NaN</code>, empty strings, or whitespace-only) are provided. Notably, if an environment variable is not a string (e.g., null or undefined), it is silently handled without logging unnecessary warnings.</p>
<ul class="md-github">
<li class="md-github"><strong class="md-github">Invalid Non-Numeric Values Handling:</strong> In non-strict mode, if an invalid non-numeric string is provided, a one-time warning is logged (per unique composite key combining variable name and normalized input) indicating that the input is invalid, and the system falls back to a default or configurable value. The fallback logic has been streamlined and the warning message standardized to clearly show the fallback value (including its unit) and to avoid duplicate warnings. Additionally, unusual whitespace such as non-breaking spaces and non-string falsy values are correctly processed without generating superfluous warnings.</li>
<li class="md-github"><strong class="md-github">Strict Mode:</strong> When strict mode is enabled (via <code class="md-github">--strict-env</code> or by setting <code class="md-github">STRICT_ENV=true</code>), only valid numeric inputs are accepted. Any deviation, such as variants of <code class="md-github">NaN</code> with extra whitespace or unusual case, will cause an immediate error with a clear message stating the allowed numeric formats (integer, decimal, or scientific notation).</li>
<li class="md-github"><strong class="md-github">CLI Overrides:</strong> The CLI options <code class="md-github">--livedata-retry-default &lt;number&gt;</code> and <code class="md-github">--livedata-delay-default &lt;number&gt;</code> allow you to override the default fallback values for live data fetching at runtime without modifying your environment variables.</li>
<li class="md-github"><strong class="md-github">Global Warning Suppression:</strong> You can disable all environment variable warning logs by setting the environment variable <code class="md-github">DISABLE_ENV_WARNINGS</code> (set to any value other than &quot;0&quot;).</li>
</ul>
</li>
<li class="md-github">
<p class="md-github"><strong class="md-github">Custom Endpoints:</strong> Users can override or extend the default list of public API endpoints by setting the environment variable <code class="md-github">CUSTOM_API_ENDPOINTS</code> to a comma-separated list of URLs. <strong class="md-github">Only endpoints starting with &quot;http://&quot; or &quot;https://&quot; are accepted.</strong> Invalid endpoints will be ignored with a diagnostic warning.</p>
</li>
<li class="md-github">
<p class="md-github"><strong class="md-github">Data Persistence:</strong> Easily save, load, backup, clear, refresh, and merge ontologies as JSON files. (File system operations are now non-blocking using asynchronous APIs.)</p>
</li>
<li class="md-github">
<p class="md-github"><strong class="md-github">Query &amp; Validation:</strong> Rapidly search for ontology concepts and validate your data. Note: The function <code class="md-github">queryOntology</code> has been refactored to operate asynchronously for improved performance.</p>
</li>
<li class="md-github">
<p class="md-github"><strong class="md-github">OWL Export/Import:</strong> Convert ontologies to and from an extended OWL XML format that supports additional fields (concepts, classes, properties, metadata).</p>
</li>
<li class="md-github">
<p class="md-github"><strong class="md-github">Concurrent Data Crawling:</strong> Gather real-time data concurrently from a range of public endpoints. The crawl functionality has been enhanced to return results with separate arrays for successful responses and errors, simplifying downstream processing.</p>
</li>
<li class="md-github">
<p class="md-github"><strong class="md-github">Diverse Ontology Models:</strong> Build various models (basic, advanced, intermediate, enhanced, minimal, complex, scientific, educational, philosophical, economic, and hybrid).</p>
</li>
<li class="md-github">
<p class="md-github"><strong class="md-github">Enhanced Diagnostics:</strong> View timestamped logs with detailed context for each operation. You can control the verbosity of diagnostic messages by setting the environment variable <code class="md-github">DIAGNOSTIC_LOG_LEVEL</code> (possible values: <code class="md-github">off</code>, <code class="md-github">error</code>, <code class="md-github">warn</code>, <code class="md-github">info</code>, <code class="md-github">debug</code>). For example, setting <code class="md-github">DIAGNOSTIC_LOG_LEVEL=off</code> will suppress diagnostic logs.</p>
</li>
<li class="md-github">
<p class="md-github"><strong class="md-github">Web Server Integration:</strong> Launch a simple web server for quick status checks. <strong class="md-github">New:</strong> The server now supports integration testing by exposing a function to start and gracefully shut it down after performing actual HTTP requests.</p>
</li>
<li class="md-github">
<p class="md-github"><strong class="md-github">Custom Merging &amp; Refreshing:</strong> New functions provide extended merging and diagnostic capabilities.</p>
</li>
</ul>
<h3 class="md-github"><a class="md-github__anchor" name="enhanced-handling-of-nan-values" href="#enhanced-handling-of-nan-values"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Enhanced Handling of 'NaN' Values</h3>
<p class="md-github">The environment variable parsing logic has been refined. When invalid non-numeric values (including variants of &quot;NaN&quot;) are provided, a standardized one-time warning message is logged per unique composite key (variable name and input) that clearly indicates the invalid input and the fallback value being used. In strict mode, any invalid input will immediately cause an error with guidance on the allowed formats (integer, decimal, or scientific notation). Additional edge cases, such as inputs with unusual whitespace (e.g., non-breaking spaces) or non-string falsy values, are now correctly handled. You can disable these warnings in production by setting <code class="md-github">DISABLE_ENV_WARNINGS</code> (not equal to &quot;0&quot;).</p>
<h3 class="md-github"><a class="md-github__anchor" name="environment-variable-handling-for-live-data-fetching" href="#environment-variable-handling-for-live-data-fetching"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Environment Variable Handling for Live Data Fetching</h3>
<p class="md-github">owl-builder uses the environment variables <code class="md-github">LIVEDATA_RETRY_COUNT</code> and <code class="md-github">LIVEDATA_INITIAL_DELAY</code> to configure the retry logic during live data fetching. The behavior is as follows:</p>
<ul class="md-github">
<li class="md-github">
<p class="md-github"><strong class="md-github">Valid Numeric Inputs:</strong> Accepts standard numeric values and scientific notation. For example, <code class="md-github">export LIVEDATA_RETRY_COUNT=3</code> or <code class="md-github">export LIVEDATA_INITIAL_DELAY=1e2</code>.</p>
</li>
<li class="md-github">
<p class="md-github"><strong class="md-github">Invalid or Non-Numeric Inputs:</strong> In non-strict mode, if an invalid non-numeric string is provided (e.g., <code class="md-github">NaN</code>, <code class="md-github">abc</code>, empty/whitespace-only) a one-time warning is logged (per unique composite key) and the system falls back to default values (3 retries and 100ms delay) or a configurable fallback. If the variable is null or not a string, it is processed silently without logging a warning.</p>
</li>
<li class="md-github">
<p class="md-github"><strong class="md-github">Strict Mode:</strong> When strict mode is enabled (via <code class="md-github">--strict-env</code> or <code class="md-github">export STRICT_ENV=true</code>), only valid numeric inputs are accepted. Any deviation will cause an immediate error with a clear message stating the allowed numeric formats.</p>
</li>
<li class="md-github">
<p class="md-github"><strong class="md-github">CLI Overrides:</strong> You can override the fallback values without modifying your environment variables using CLI options:</p>
</li>
</ul>
<pre class="md-github"><code class="md-github language-bash"># Example: Using CLI overrides for fallback values
node src/lib/main.js --livedata-retry-default 5 --livedata-delay-default 250
</code></pre>
<ul class="md-github">
<li class="md-github"><strong class="md-github">Suppressing Warnings:</strong> To disable warning messages for invalid environment variable inputs, set the environment variable <code class="md-github">DISABLE_ENV_WARNINGS</code> (any value other than &quot;0&quot;).</li>
</ul>
<h3 class="md-github"><a class="md-github__anchor" name="custom-api-endpoints" href="#custom-api-endpoints"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Custom API Endpoints</h3>
<p class="md-github">To provide custom API endpoints, set the <code class="md-github">CUSTOM_API_ENDPOINTS</code> environment variable to a comma-separated list of URLs. <strong class="md-github">Only endpoints starting with &quot;http://&quot; or &quot;https://&quot; are accepted.</strong> Invalid endpoints will be ignored with a diagnostic warning.</p>
<p class="md-github">Example:</p>
<pre class="md-github"><code class="md-github language-bash">export CUSTOM_API_ENDPOINTS=&quot;https://example.com/api, https://another.example.com&quot;
</code></pre>
<h3 class="md-github"><a class="md-github__anchor" name="configurable-diagnostic-logging" href="#configurable-diagnostic-logging"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Configurable Diagnostic Logging</h3>
<p class="md-github">Diagnostic messages can be controlled via the <code class="md-github">DIAGNOSTIC_LOG_LEVEL</code> environment variable. Supported levels are:</p>
<ul class="md-github">
<li class="md-github"><code class="md-github">off</code>: No diagnostic messages are logged.</li>
<li class="md-github"><code class="md-github">error</code>: Only error messages are logged.</li>
<li class="md-github"><code class="md-github">warn</code>: Warning and error messages are logged.</li>
<li class="md-github"><code class="md-github">info</code>: Info, warning, and error messages are logged.</li>
<li class="md-github"><code class="md-github">debug</code>: All messages (debug, info, warn, error) are logged. (Default)</li>
</ul>
<p class="md-github">For example, to suppress all diagnostic logs:</p>
<pre class="md-github"><code class="md-github language-bash">export DIAGNOSTIC_LOG_LEVEL=off
</code></pre>
<h2 class="md-github"><a class="md-github__anchor" name="installation" href="#installation"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Installation</h2>
<p class="md-github">Ensure Node.js version 20 or later is installed. Then, clone the repository and install dependencies:</p>
<pre class="md-github"><code class="md-github language-bash">git clone https://github.com/yourusername/owl-builder.git
cd owl-builder
npm install
</code></pre>
<h2 class="md-github"><a class="md-github__anchor" name="usage" href="#usage"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Usage</h2>
<h3 class="md-github"><a class="md-github__anchor" name="run-demo" href="#run-demo"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Run Demo</h3>
<p class="md-github">Demonstrate core functionality using live data integration (unless disabled):</p>
<pre class="md-github"><code class="md-github language-bash">npm run start
</code></pre>
<h3 class="md-github"><a class="md-github__anchor" name="disable-live-data-integration" href="#disable-live-data-integration"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Disable Live Data Integration</h3>
<p class="md-github">To disable live data integration and use the static fallback, set the environment variable:</p>
<pre class="md-github"><code class="md-github language-bash">export DISABLE_LIVE_DATA=1
</code></pre>
<p class="md-github">Or invoke the CLI with the flag:</p>
<pre class="md-github"><code class="md-github language-bash">node src/lib/main.js --disable-live
</code></pre>
<h3 class="md-github"><a class="md-github__anchor" name="strict-environment-variable-parsing" href="#strict-environment-variable-parsing"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Strict Environment Variable Parsing</h3>
<p class="md-github">To enforce strict parsing of numeric environment variables, either set the environment variable or use the CLI flag:</p>
<pre class="md-github"><code class="md-github language-bash">export STRICT_ENV=true
# or
node src/lib/main.js --strict-env
</code></pre>
<h3 class="md-github"><a class="md-github__anchor" name="override-fallback-values-via-cli" href="#override-fallback-values-via-cli"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Override Fallback Values via CLI</h3>
<p class="md-github">Override the default fallback values for live data fetching without modifying your environment variables:</p>
<pre class="md-github"><code class="md-github language-bash">node src/lib/main.js --livedata-retry-default 5 --livedata-delay-default 250
</code></pre>
<h3 class="md-github"><a class="md-github__anchor" name="cli-help" href="#cli-help"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>CLI Help</h3>
<p class="md-github">Display a list of available commands and usage instructions:</p>
<pre class="md-github"><code class="md-github language-bash">node src/lib/main.js --help
</code></pre>
<h3 class="md-github"><a class="md-github__anchor" name="key-cli-commands" href="#key-cli-commands"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Key CLI Commands</h3>
<ul class="md-github">
<li class="md-github"><code class="md-github">--build --allow-deprecated</code>: Generates a deprecated fallback ontology using static data (<strong class="md-github">deprecated; use <code class="md-github">--build-live</code> for live data integration</strong>). <strong class="md-github">Note:</strong> The <code class="md-github">--allow-deprecated</code> flag is required with <code class="md-github">--build</code>.</li>
<li class="md-github"><code class="md-github">--build-live</code>: Builds an ontology using live data and logs detailed diagnostic information for each retry attempt, including exponential backoff delay with jitter.</li>
<li class="md-github"><code class="md-github">--persist</code>: Saves the current ontology to a JSON file.</li>
<li class="md-github"><code class="md-github">--load</code>: Loads the saved ontology.</li>
<li class="md-github"><code class="md-github">--query &quot;term&quot;</code>: Searches for matching ontology concepts. (Async function; use <code class="md-github">await</code> when calling directly.)</li>
<li class="md-github"><code class="md-github">--export</code>: Exports the ontology as extended OWL XML.</li>
<li class="md-github"><code class="md-github">--import</code>: Imports an ontology from extended OWL XML.</li>
<li class="md-github"><code class="md-github">--backup</code>: Creates a backup of the ontology file.</li>
<li class="md-github"><code class="md-github">--update &quot;New Title&quot;</code>: Updates the ontology title using live data.</li>
<li class="md-github"><code class="md-github">--clear</code>: Deletes the local ontology file.</li>
<li class="md-github"><code class="md-github">--crawl</code>: Concurrently crawls multiple public endpoints to gather data. Returns separated arrays for successes and errors.</li>
<li class="md-github"><code class="md-github">--fetch-retry</code>: Fetches data using retry logic with detailed logging of each attempt including jittered exponential backoff.</li>
<li class="md-github"><code class="md-github">--merge-ontologies</code>: Merges static and live ontology models.</li>
<li class="md-github"><code class="md-github">--build-live-log</code>: Builds a live ontology with additional diagnostic logging.</li>
<li class="md-github"><code class="md-github">--serve</code>: Launches the integrated web server.</li>
<li class="md-github"><code class="md-github">--diagnostics</code>: Runs a diagnostic crawl of public endpoints.</li>
<li class="md-github"><code class="md-github">--refresh</code>: Clears the existing ontology, rebuilds it using live data, and persists the refreshed ontology.</li>
<li class="md-github"><code class="md-github">--merge-persist</code>: Merges static and live ontologies and saves the result.</li>
<li class="md-github"><code class="md-github">--strict-env</code>: Enables strict mode for environment variable parsing, causing invalid inputs to throw errors.</li>
<li class="md-github"><code class="md-github">--build-hybrid</code>: Combines live data with custom static data to produce a hybrid ontology.</li>
<li class="md-github"><code class="md-github">--diagnostic-summary</code>: Provides a concise summary of diagnostic information (timestamp and version).</li>
<li class="md-github"><code class="md-github">--custom-merge</code>: Merges provided ontologies and appends the current timestamp.</li>
<li class="md-github"><code class="md-github">--backup-refresh</code>: Creates a backup and refreshes the ontology.</li>
</ul>
<h2 class="md-github"><a class="md-github__anchor" name="robust-web-server-integration-test" href="#robust-web-server-integration-test"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Robust Web Server Integration Test</h2>
<p class="md-github">A new integration test starts the web server, sends an actual HTTP request, verifies that the response status is 200 and that the response body is &quot;owl-builder Web Server Running\n&quot;, and gracefully shuts down the server after the test.</p>
<h2 class="md-github"><a class="md-github__anchor" name="endpoints-and-testing" href="#endpoints-and-testing"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Endpoints and Testing</h2>
<p class="md-github">owl-builder uses a broad list of public endpoints to build ontologies, such as:</p>
<ul class="md-github">
<li class="md-github"><code class="md-github">https://api.publicapis.org/entries</code></li>
<li class="md-github"><code class="md-github">https://dog.ceo/api/breeds/image/random</code></li>
<li class="md-github"><code class="md-github">https://jsonplaceholder.typicode.com/posts</code></li>
<li class="md-github"><code class="md-github">https://api.coindesk.com/v1/bpi/currentprice.json</code></li>
<li class="md-github">...</li>
</ul>
<p class="md-github"><em class="md-github">Note:</em> Ensure that your network allows access to these endpoints for successful data retrieval.</p>
<h2 class="md-github"><a class="md-github__anchor" name="change-log" href="#change-log"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Change Log</h2>
<p class="md-github"><strong class="md-github">Version 0.0.39</strong></p>
<ul class="md-github">
<li class="md-github">Refocused ontology building on live public data sources; static fallback remains only for emergencies.</li>
<li class="md-github">Enhanced diagnostic logging with detailed error messages and retry context in live data integration functions.</li>
<li class="md-github">Pruned redundant legacy code to align with our mission.</li>
<li class="md-github">Extended ontology model wrappers and introduced new merging and refreshing functions.</li>
<li class="md-github">Enhanced XML export/import functions to support extended ontology models including concepts, classes, properties, and metadata.</li>
<li class="md-github">Refactored file system operations to use asynchronous, non-blocking APIs.</li>
<li class="md-github"><strong class="md-github">CLI Update:</strong> The <code class="md-github">--build</code> command now requires the <code class="md-github">--allow-deprecated</code> flag for using the deprecated static fallback. Use <code class="md-github">--build-live</code> for live data integration.</li>
<li class="md-github"><strong class="md-github">Exponential Backoff with Jitter:</strong> Improved handling of environment variables by consolidating parsing of <code class="md-github">LIVEDATA_RETRY_COUNT</code> and <code class="md-github">LIVEDATA_INITIAL_DELAY</code>. Invalid non-numeric values trigger a one-time warning (displaying the fallback value and unit) and the fallback value (or CLI overrides) are applied.</li>
<li class="md-github"><strong class="md-github">Strict Environment Variable Parsing:</strong> When strict mode is enabled (via <code class="md-github">--strict-env</code> or <code class="md-github">export STRICT_ENV=true</code>), only valid numeric inputs are accepted. Invalid inputs will cause an immediate error with guidance on valid formats (integer, decimal, or scientific notation).</li>
<li class="md-github"><strong class="md-github">CLI Overrides:</strong> New CLI options <code class="md-github">--livedata-retry-default</code> and <code class="md-github">--livedata-delay-default</code> allow runtime override of fallback values without changing environment variables.</li>
<li class="md-github"><strong class="md-github">Custom Endpoints:</strong> Supports custom API endpoints via <code class="md-github">CUSTOM_API_ENDPOINTS</code>. Only valid endpoints (beginning with &quot;http://&quot; or &quot;https://&quot;) are accepted.</li>
<li class="md-github"><strong class="md-github">Consolidated 'NaN' Handling:</strong> Standardized environment variable parsing now logs a warning exactly once per unique composite key (variable name and normalized input) unless warnings are disabled by setting <code class="md-github">DISABLE_ENV_WARNINGS</code>.</li>
<li class="md-github"><strong class="md-github">Unit Test Enhancements:</strong> Expanded test coverage to include various edge cases for invalid non-numeric inputs, unusual whitespace, non-string values, and the new global warning suppression option.</li>
<li class="md-github"><strong class="md-github">Automated Tests:</strong> Comprehensive tests now cover fallback behavior, strict mode, CLI override functionality, and suppression of warnings.</li>
<li class="md-github"><strong class="md-github">Fetch Spy Availability:</strong> The internal function used in <code class="md-github">buildEnhancedOntology</code> is now exported as part of a <code class="md-github">fetcher</code> object, allowing tests to successfully spy on it.</li>
<li class="md-github"><strong class="md-github">Contributing Improvements:</strong> Updated guidelines to reflect changes in environment variable handling and diagnostic logging.</li>
</ul>
<h2 class="md-github"><a class="md-github__anchor" name="contributing" href="#contributing"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Contributing</h2>
<p class="md-github">Contributions are welcome! Please review <a href="CONTRIBUTING.md" class="md-github">CONTRIBUTING.md</a> for coding standards, testing requirements, and workflow guidelines.</p>
<h2 class="md-github"><a class="md-github__anchor" name="license" href="#license"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>License</h2>
<p class="md-github">Released under the MIT License.</p>

  </section>
  <footer>
    <p>Generated on 2025-04-07T16:50:30.263Z</p>
  </footer>
</body>
</html>